create database Pharmacy
	use Pharmacy

create table Producer (
	id int not null primary key,
	name nvarchar(50) not null,
	country nvarchar(10) not null,
	adress nvarchar(50) not null,
	phone char(12) not null
)
create table Preparation (
	id int not null primary key,
	name nvarchar(50) not null,
	id_producer int not null,
	price money not null,
	form nvarchar(20) not null,
	pharmacological_properties nvarchar(100)
)
	alter table Preparation
	add constraint FK_producer_preparation foreign key(id_producer) references Producer(id)

create table Composition (
	id_pharmacy int not null primary key,
	id_preparation int not null,
	quantity int not null
)
	alter table Composition
	add constraint FK_preparation_composition foreign key(id_preparation) references Preparation(id)

create table Providers (
	id int not null primary key,
	name nvarchar(50) not null,
	adress nvarchar(50) not null,
	phone char(12) not null
)
create table Delivery (
	id_pharmacy int not null primary key,
	id_provider int not null,
	id_preparation int not null,
	quantity int not null,
	date_delivery date not null
)
	alter table Delivery
	add constraint FK_providers_delivery foreign key(id_provider) references Providers(id)
create table Client (
id int not null primary key,
name nvarchar(50) not null,
surname nvarchar(50) not null,
date_of_birth date not null,
phone char(12) not null
)
create table Position (
position nvarchar(50) not null primary key,
salary int not null,
descriptions varchar(50)
)
create table Employee (
id int not null primary key,
name nvarchar(50) not null,
surname nvarchar(50) not null,
date_of_birth date not null,
phone char(12) not null,
position nvarchar(50) not null,
id_pharmacy int not null
)
alter table Employee
add constraint FK_position_employee foreign key(position) references Position(position)
create table Discount (
id int not null primary key,
type nvarchar (20) not null,
rate int not null
)
create table Sales (
	id_pharmacy int not null,
	check_number int not null primary key,
	id_preparation int not null,
	quantity int not null,
	id_discount int not null,
	amount_discount money not null,
	amount_check money not null,
	date_sales date not null,
	id_employee int not null,
	id_client int not null
)
	alter table Sales
	add constraint FK_discount_sales foreign key(id_discount) references Discount(id)
	alter table Sales
	add constraint FK_employee_sales foreign key(id_employee) references Employee(id)
	alter table Sales
	add constraint FK_client_sales foreign key(id_client) references Client(id)

create table Pharmacyy (
	id int not null primary key,
	adress nvarchar(50) not null,
	work_schedule time not null,
	phone char(12) not null
)
	alter table Sales
	add constraint FK_pharmacyy_sales foreign key(id_pharmacy) references Pharmacyy(id)
	alter table Composition
	add constraint FK_pharmacyy_composition foreign key(id_pharmacy) references Pharmacyy(id)
	alter table Delivery
	add constraint FK_pharmacyy_delivery foreign key(id_pharmacy) references Pharmacyy(id)
