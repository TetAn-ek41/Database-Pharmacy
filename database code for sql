create database Pharmacy
	use Pharmacy

create table Producer (
	id int not null primary key,
	name nvarchar(50) not null,
	country nvarchar(10) not null,
	adress nvarchar(50) not null,
	phone char(12) not null
)
create table Preparation (
	id int not null primary key,
	name nvarchar(50) not null,
	id_producer int not null,
	price money not null,
	form nvarchar(20) not null,
	pharmacological_properties nvarchar(100)
)
	alter table Preparation
	add constraint FK_producer_preparation foreign key(id_producer) references Producer(id)

create table Composition (
	id_pharmacy int not null,
	id_preparation int not null,
	quantity int not null
)
	alter table Composition
	add constraint FK_preparation_composition foreign key(id_preparation) references Preparation(id)

create table Providers (
	id int not null primary key,
	name nvarchar(50) not null,
	adress nvarchar(50) not null,
	phone char(12) not null
)
create table Delivery (
	id_delivery int not null primary key,
	id_pharmacy int not null,
	id_provider int not null,
	id_preparation int not null,
	quantity int not null,
	date_delivery date not null
)
	alter table Delivery
	add constraint FK_providers_delivery foreign key(id_provider) references Providers(id)

create table Client (
	id int not null primary key,
	name nvarchar(50) not null,
	surname nvarchar(50) not null,
	date_of_birth date not null,
	phone char(12) not null
)
create table Position (
	position nvarchar(50) not null primary key,
	salary int not null,
	descriptions varchar(50)
)
create table Employee (
	id int not null primary key,
	name nvarchar(50) not null,
	surname nvarchar(50) not null,
	date_of_birth date not null,
	phone char(12) not null,
	position nvarchar(50) not null,
	id_pharmacy int not null
)
	alter table Employee
	add constraint FK_position_employee foreign key(position) references Position(position)

create table Discount (
	id int not null primary key,
	type nvarchar (20) not null,
	rate int not null
)
create table Sales (
	id_pharmacy int not null,
	check_number int not null primary key,
	id_preparation int not null,
	quantity int not null,
	id_discount int not null,
	amount_discount money not null,
	amount_check money not null,
	date_sales date not null,
	id_employee int not null,
	id_client int not null
)
	alter table Sales
	add constraint FK_discount_sales foreign key(id_discount) references Discount(id)
	alter table Sales
	add constraint FK_employee_sales foreign key(id_employee) references Employee(id)
	alter table Sales
	add constraint FK_client_sales foreign key(id_client) references Client(id)

create table Pharmacyy (
	id int not null primary key,
	adress nvarchar(50) not null,
	work_schedule time not null,
	phone char(12) not null
)
	alter table Sales
	add constraint FK_pharmacyy_sales foreign key(id_pharmacy) references Pharmacyy(id)
	alter table Composition
	add constraint FK_pharmacyy_composition foreign key(id_pharmacy) references Pharmacyy(id)
	alter table Delivery
	add constraint FK_pharmacyy_delivery foreign key(id_pharmacy) references Pharmacyy(id)

	INSERT INTO Producer
	VALUES ('01','ПАТ ВІТАМІНИ','Україна','м. Умань, вул. Ленінської Іскри, 31','380474432326'),
	('02','ЗАТ Фармацевтична фірма Дарниця','Україна','м. Київ, вул. Бориспільська, буд.13','380442077310'),
	('03','ХФЗ Червона Зірка','Україна','Харків, вул. Гордієнківська, 1','380577331758'),
	('04','Pfizer','США','м. Київ, вул. Амосова, 12','380443916050'),
	('05','Roche Holding','Швейцарія','м. Київ, вул. Сагайдачного, 33','380443543040'),
	('06','ТОВ Biopharma','Україна','м. Київ, вул. Миколи Амосова, 12','380443937480'),
	('07','ТОВ Біонорика','Україна','вул. Княжий Затон, буд. 9, оф. 392','380443900810'),
	('08','Фармацевтична компанія Здоров’я','Україна','Харків, вул. Шевченка, 22','380577009777'),
	('09','АТ Фармак','Україна','м. Київ, вул. Кирилівська, 63','380444968787')
	
	INSERT INTO Preparation
	VALUES ('1111','Пшик 0,9% для взрослых','09','140.90','Спрей флакон','Cпрей назальний з морською водою «Пішк» 0,9% для дорослих використовують для полегшення стану пацієнта при гострих та хронічних запальних захворюваннях носоглотки, придаткових пазух носа та носової порожнини різної етіології (риніт, синусит).'),
	('1222','Анальгін','02','10.00','Таблетки','Знеболюючий, жарознижувальний, спазмолітичний (діє на гладку мускулатуру сечовивідних та жовчних шляхів) засіб групи похідних піразолону. Протизапальна дія виражена слабо.'),
	('1333','Анальгін','08','8.50','Таблетки',''),
	('1444','Віагра','04','245.7','Таблетки','Силденафіл є препаратом для перорального застосування, призначений для лікування еректильної дисфункції. При сексуальному збудженні препарат оновлює знижену еректильну функцію шляхом посилення припливу крові до статевого члена.'),
	('1555','Синупрет Екстракт №20','07','240.90','Таблетки','Рослинні компоненти, що входять до складу препарату, мають комплексну активність, яка проявляється у секретолітичній дії, протизапальному та протинабряковому ефектах. Під впливом препарату регулюється секреція і зменшується набряк тканин. '),
	('1666','Фармазолин 0,1%','09','45.10','Каплі','Засоби, які застосовують при захворюваннях порожнини носа. Протинабрякові препарати для місцевого застосування при захворюваннях порожнини носа.'),
	('1777','Вітамін Е','01','70.50','Капсули мякі','Вітамін Е – жиророзчинний вітамін, який має суттєву антиоксидантну та радіопротекторну дію, бере участь у біосинтезі гему та білків, проліферації клітин та інших найважливіших процесах клітинного метаболізму.'),
	('1888','Амброксол','03','31.00','Сироп',''),
	('1999','Амброксол','08','41.50','Сироп','Діюча речовина сиропу Амброксол – амброксолу гідрохлорид – збільшує секрецію залоз дихальних шляхів. Амброксол посилює виділення легеневого сурфактанту шляхом прямого впливу на пневмоцит II типу в альвеолах та клітинах Клару у бронхіолах, а також стимулює циліарну активність.'),
	('2111','Алое екстракт','06','87.10','Розчин для п/в','Біогенний стимулятор, водний екстракт із подрібненого листя алое деревоподібного (Aloеs arborescens) з додаванням 0,85% хлориду натрію. Чинить адаптогенну дію, сприяє регенерації тканин.'),
	('2222','Весаноїд','05','1040.00','Капсули мякі','Протипухлинні засоби.'),
	('2333','Йод','03','12.6','Розчин для з/з',''),
	('2444','Ацц гарячий напій мед лимон','06','211.10','Порошок','Ацетилцистеїн (АЦЦ) – муколітичний, відхаркувальний засіб, який застосовують для розрідження мокротиння при захворюваннях дихальної системи, що супроводжуються утворенням густого слизу.')

INSERT INTO Composition
	VALUES ('0011','1111','10'),
	('0011','1999','10'),
	('0011','1222','15'),
	('0011','2444','15'),
	('0011','1777','2'),
	('0011','1666','7'),
	('0012','1444','20'),
	('0012','1888','9'),
	('0012','1555','6'),
	('0012','1666','9'),
	('0012','1111','6'),
	('0012','2111','10'),
	('0013','1777','8'),
	('0013','1555','10'),
	('0013','1999','23'),
	('0013','1666','23'),
	('0013','2111','7'),
	('0013','2222','13'),
	('0014','2333','45'),
	('0014','2222','18'),
	('0014','1222','15'),
	('0014','1777','10'),
	('0014','1555','10'),
	('0014','1444','5'),
	('0015','1777','15'),
	('0015','2444','30'),
	('0015','2222','5'),
	('0015','1888','20'),
	('0015','1666','15'),
	('0015','1333','40'),
	('0016','1333','35'),
	('0016','1111','5'),
	('0016','1222','10'),
	('0016','2333','20'),
	('0016','1777','15'),
	('0016','2222','5')
	
	INSERT INTO Providers
	VALUES ('001','Альта Колор','Київ, вул. Дніпроводська, 16, оф.429','0673543434'), 
	('002','ВІКФАРМА','04071, Київ, вул. Межигірська, 39/20, оф.39','0445017593'), 
	('003','ГОЛДЕН-ФАРМ','02660, Київ, вул. Магнітогорська, 1','0445010498'), 
	('004','ГРІНВУД','03065, Київ, бульв. Івана Лепсе, 10','0444080539'), 
	('005','ІНТЕРФАРМА-КИЇВ','03680, Київ, бульв. Івана Лепсе, 8','0444903595'), 
	('006','ІСТОК-ПЛЮС','69096, Запоріжжя, бульв. Вінтера, 2','0612128186'), 
	('007','ОЛФА','02140, Київ, просп. Бажана Миколи, 14-а','057 7033284'), 
	('008','ХМЕСІЛ','03115, Київ, пров.Бородянський, 3.','0444235340'), 
	('009','ЮЛГ','04070, Київ, вул. Сковороди Григорія, 2.','0442386557'), 
	('010','ЮНІФАРМ','04073, Київ, просп. Московський, 21-а','0444649424')
	
	INSERT INTO Delivery
	VALUES ('01','0011','009','1111','3','20211120'),
	('02','0011','003','1999','5','20211120'),
	('03','0011','001','1222','8','20211121'),
	('04','0011','005','2444','6','20211123'),
	('05','0011','006','1777','2','20211121'),
	('06','0011','005','1666','5','20211125'),
	('07','0012','007','1444','10','20211121'),
	('08','0012','009','1888','8','20211123'),
	('09','0012','005','1555','4','20211120'),
	('010','0012','009','1666','2','20211123'),
	('011','0012','001','1111','6','20211123'),
	('012','0012','003','2111','4','20211120'),
	('013','0013','003','1777','4','20211120'),
	('014','0013','008','1555','3','20211125'),
	('015','0013','007','1999','20','20211123'),
	('016','0013','005','1666','20','20211123'),
	('017','0013','001','2111','7','20211125'),
	('018','0013','005','2222','10','20211123'),
	('019','0014','004','2333','25','20211125'),
	('020','0014','009','2222','10','20211124'),
	('021','0014','002','1222','8','20211126'),
	('022','0014','003','1777','6','20211127'),
	('023','0014','001','1555','8','20211128'),
	('024','0014','005','1444','5','20211126'),
	('025','0015','006','2333','10','20211130'),
	('026','0015','004','2444','20','20211125'),
	('027','0015','007','2222','4','20211225'),
	('028','0015','009','1888','20','20211223'),
	('029','0015','004','1666','6','20211125'),
	('030','0015','009','1333','30','20211124'),
	('031','0016','007','1333','30','20211120'),
	('032','0016','001','1111','5','20211120'),
	('033','0016','005','1222','8','20211126'),
	('034','0016','007','2333','10','20211124'),
	('035','0016','009','1777','10','20211124'),
	('036','0016','005','2222','5','20211126')
	
	Alter TABLE Pharmacyy
	 Alter COLUMN work_schedule nvarchar(20)

	INSERT INTO Pharmacyy
	VALUES ('0011','проспект Володимира Маяковського, 7','08.00-21.00','0678251267'),
	('0012','проспект Перемоги, 98/2','08.00-21.00','0981812023'),
	('0013','вулиця Попудренка, 1','08.00-21.00','0677037258'),
	('0014','вулиця Миколи Кибальчича, 11А','08.00-21.00','0674294434'),
	('0015','проспект Володимира Маяковського, 60/10','08.00-21.00','0677289342'),
	('0016','вулиця Михайла Драгоманова, 2а','08.00-21.00','0677289342')
