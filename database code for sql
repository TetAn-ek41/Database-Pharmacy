create database Pharmacy
	use Pharmacy

create table Producer (
	id int not null primary key,
	name nvarchar(50) not null,
	country nvarchar(10) not null,
	adress nvarchar(50) not null,
	phone char(12) not null
)
create table Preparation (
	id int not null primary key,
	name nvarchar(50) not null,
	id_producer int not null,
	price money not null,
	form nvarchar(20) not null,
	pharmacological_properties nvarchar(300)
)
	alter table Preparation
	add constraint FK_producer_preparation foreign key(id_producer) references Producer(id)

create table Composition (
	id_pharmacy int not null,
	id_preparation int not null,
	quantity int not null
)
	alter table Composition
	add constraint FK_preparation_composition foreign key(id_preparation) references Preparation(id)

create table Providers (
	id int not null primary key,
	name nvarchar(50) not null,
	adress nvarchar(50) not null,
	phone char(12) not null
)
create table Delivery (
	id_delivery int not null primary key,
	id_pharmacy int not null,
	id_provider int not null,
	id_preparation int not null,
	quantity int not null,
	date_delivery date not null
)
	alter table Delivery
	add constraint FK_providers_delivery foreign key(id_provider) references Providers(id)

create table Client (
	id int not null primary key,
	name nvarchar(50) not null,
	surname nvarchar(50) not null,
	date_of_birth date not null,
	phone char(12) not null
)
create table Position (
	position nvarchar(50) not null primary key,
	salary int not null,
	descriptions varchar(100)
)
create table Employee (
	id int not null primary key,
	name nvarchar(50) not null,
	surname nvarchar(50) not null,
	date_of_birth date not null,
	phone char(12) not null,
	position nvarchar(50) not null,
	id_pharmacy int not null
)
	alter table Employee
	add constraint FK_position_employee foreign key(position) references Position(position)

create table Discount (
	id int not null primary key,
	type nvarchar (50) not null,
	rate int not null
)
create table Sales (
	id_pharmacy int not null,
	check_number int not null primary key,
	id_preparation int not null,
	quantity int not null,
	id_discount int not null,
	amount_discount money not null,
	amount_check money not null,
	date_sales date not null,
	id_employee int not null,
	id_client int not null
)
	alter table Sales
	add constraint FK_discount_sales foreign key(id_discount) references Discount(id)
	alter table Sales
	add constraint FK_employee_sales foreign key(id_employee) references Employee(id)
	alter table Sales
	add constraint FK_client_sales foreign key(id_client) references Client(id)

create table Pharmacyy (
	id int not null primary key,
	adress nvarchar(50) not null,
	work_schedule time not null,
	phone char(12) not null
)
	alter table Sales
	add constraint FK_pharmacyy_sales foreign key(id_pharmacy) references Pharmacyy(id)
	alter table Composition
	add constraint FK_pharmacyy_composition foreign key(id_pharmacy) references Pharmacyy(id)
	alter table Delivery
	add constraint FK_pharmacyy_delivery foreign key(id_pharmacy) references Pharmacyy(id)

INSERT INTO Producer
	VALUES ('01','ПАТ ВІТАМІНИ','Україна','м. Умань, вул. Ленінської Іскри, 31','380474432326'),
	('02','ЗАТ Фармацевтична фірма Дарниця','Україна','м. Київ, вул. Бориспільська, буд.13','380442077310'),
	('03','ХФЗ Червона Зірка','Україна','Харків, вул. Гордієнківська, 1','380577331758'),
	('04','Pfizer','США','м. Київ, вул. Амосова, 12','380443916050'),
	('05','Roche Holding','Швейцарія','м. Київ, вул. Сагайдачного, 33','380443543040'),
	('06','ТОВ Biopharma','Україна','м. Київ, вул. Миколи Амосова, 12','380443937480'),
	('07','ТОВ Біонорика','Україна','вул. Княжий Затон, буд. 9, оф. 392','380443900810'),
	('08','Фармацевтична компанія Здоров’я','Україна','Харків, вул. Шевченка, 22','380577009777'),
	('09','АТ Фармак','Україна','м. Київ, вул. Кирилівська, 63','380444968787')
	
INSERT INTO Preparation
	VALUES ('1111','Пшик 0,9% для взрослых','09','140.90','Спрей флакон','Cпрей назальний з морською водою «Пішк» 0,9% для дорослих використовують для полегшення стану пацієнта при гострих та хронічних запальних захворюваннях носоглотки, придаткових пазух носа та носової порожнини різної етіології (риніт, синусит).'),
	('1222','Анальгін','02','10.00','Таблетки','Знеболюючий, жарознижувальний, спазмолітичний (діє на гладку мускулатуру сечовивідних та жовчних шляхів) засіб групи похідних піразолону. Протизапальна дія виражена слабо.'),
	('1333','Анальгін','08','8.50','Таблетки',''),
	('1444','Віагра','04','245.7','Таблетки','Силденафіл є препаратом для перорального застосування, призначений для лікування еректильної дисфункції. При сексуальному збудженні препарат оновлює знижену еректильну функцію шляхом посилення припливу крові до статевого члена.'),
	('1555','Синупрет Екстракт №20','07','240.90','Таблетки','Рослинні компоненти, що входять до складу препарату, мають комплексну активність, яка проявляється у секретолітичній дії, протизапальному та протинабряковому ефектах. Під впливом препарату регулюється секреція і зменшується набряк тканин. '),
	('1666','Фармазолин 0,1%','09','45.10','Каплі','Засоби, які застосовують при захворюваннях порожнини носа. Протинабрякові препарати для місцевого застосування при захворюваннях порожнини носа.'),
	('1777','Вітамін Е','01','70.50','Капсули мякі','Вітамін Е – жиророзчинний вітамін, який має суттєву антиоксидантну та радіопротекторну дію, бере участь у біосинтезі гему та білків, проліферації клітин та інших найважливіших процесах клітинного метаболізму.'),
	('1888','Амброксол','03','31.00','Сироп',''),
	('1999','Амброксол','08','41.50','Сироп','Діюча речовина сиропу Амброксол – амброксолу гідрохлорид – збільшує секрецію залоз дихальних шляхів. Амброксол посилює виділення легеневого сурфактанту шляхом прямого впливу на пневмоцит II типу в альвеолах та клітинах Клару у бронхіолах, а також стимулює циліарну активність.'),
	('2111','Алое екстракт','06','87.10','Розчин для п/в','Біогенний стимулятор, водний екстракт із подрібненого листя алое деревоподібного (Aloеs arborescens) з додаванням 0,85% хлориду натрію. Чинить адаптогенну дію, сприяє регенерації тканин.'),
	('2222','Весаноїд','05','1040.00','Капсули мякі','Протипухлинні засоби.'),
	('2333','Йод','03','12.6','Розчин для з/з',''),
	('2444','Ацц гарячий напій мед лимон','06','211.10','Порошок','Ацетилцистеїн (АЦЦ) – муколітичний, відхаркувальний засіб, який застосовують для розрідження мокротиння при захворюваннях дихальної системи, що супроводжуються утворенням густого слизу.')

INSERT INTO Providers
	VALUES ('001','Альта Колор','Київ, вул. Дніпроводська, 16, оф.429','0673543434'), 
	('002','ВІКФАРМА','04071, Київ, вул. Межигірська, 39/20, оф.39','0445017593'), 
	('003','ГОЛДЕН-ФАРМ','02660, Київ, вул. Магнітогорська, 1','0445010498'), 
	('004','ГРІНВУД','03065, Київ, бульв. Івана Лепсе, 10','0444080539'), 
	('005','ІНТЕРФАРМА-КИЇВ','03680, Київ, бульв. Івана Лепсе, 8','0444903595'), 
	('006','ІСТОК-ПЛЮС','69096, Запоріжжя, бульв. Вінтера, 2','0612128186'), 
	('007','ОЛФА','02140, Київ, просп. Бажана Миколи, 14-а','057 7033284'), 
	('008','ХМЕСІЛ','03115, Київ, пров.Бородянський, 3.','0444235340'), 
	('009','ЮЛГ','04070, Київ, вул. Сковороди Григорія, 2.','0442386557'), 
	('010','ЮНІФАРМ','04073, Київ, просп. Московський, 21-а','0444649424')

	Alter TABLE Pharmacyy
	 Alter COLUMN work_schedule nvarchar(20)

INSERT INTO Pharmacyy
	VALUES ('0011','проспект Володимира Маяковського, 7','08.00-21.00','0678251267'),
	('0012','проспект Перемоги, 98/2','08.00-21.00','0981812023'),
	('0013','вулиця Попудренка, 1','08.00-21.00','0677037258'),
	('0014','вулиця Миколи Кибальчича, 11А','08.00-21.00','0674294434'),
	('0015','проспект Володимира Маяковського, 60/10','08.00-21.00','0677289342'),
	('0016','вулиця Михайла Драгоманова, 2а','08.00-21.00','0677289342')

INSERT INTO Composition
	VALUES ('0011','1111','10'),
	('0011','1999','10'),
	('0011','1222','15'),
	('0011','2444','15'),
	('0011','1777','2'),
	('0011','1666','7'),
	('0012','1444','20'),
	('0012','1888','9'),
	('0012','1555','6'),
	('0012','1666','9'),
	('0012','1111','6'),
	('0012','2111','10'),
	('0013','1777','8'),
	('0013','1555','10'),
	('0013','1999','23'),
	('0013','1666','23'),
	('0013','2111','7'),
	('0013','2222','13'),
	('0014','2333','45'),
	('0014','2222','18'),
	('0014','1222','15'),
	('0014','1777','10'),
	('0014','1555','10'),
	('0014','1444','5'),
	('0015','1777','15'),
	('0015','2444','30'),
	('0015','2222','5'),
	('0015','1888','20'),
	('0015','1666','15'),
	('0015','1333','40'),
	('0016','1333','35'),
	('0016','1111','5'),
	('0016','1222','10'),
	('0016','2333','20'),
	('0016','1777','15'),
	('0016','2222','5')
		
INSERT INTO Delivery
	VALUES ('01','0011','009','1111','3','20211120'),
	('02','0011','003','1999','5','20211120'),
	('03','0011','001','1222','8','20211121'),
	('04','0011','005','2444','6','20211123'),
	('05','0011','006','1777','2','20211121'),
	('06','0011','005','1666','5','20211125'),
	('07','0012','007','1444','10','20211121'),
	('08','0012','009','1888','8','20211123'),
	('09','0012','005','1555','4','20211120'),
	('010','0012','009','1666','2','20211123'),
	('011','0012','001','1111','6','20211123'),
	('012','0012','003','2111','4','20211120'),
	('013','0013','003','1777','4','20211120'),
	('014','0013','008','1555','3','20211125'),
	('015','0013','007','1999','20','20211123'),
	('016','0013','005','1666','20','20211123'),
	('017','0013','001','2111','7','20211125'),
	('018','0013','005','2222','10','20211123'),
	('019','0014','004','2333','25','20211125'),
	('020','0014','009','2222','10','20211124'),
	('021','0014','002','1222','8','20211126'),
	('022','0014','003','1777','6','20211127'),
	('023','0014','001','1555','8','20211128'),
	('024','0014','005','1444','5','20211126'),
	('025','0015','006','2333','10','20211130'),
	('026','0015','004','2444','20','20211125'),
	('027','0015','007','2222','4','20211225'),
	('028','0015','009','1888','20','20211223'),
	('029','0015','004','1666','6','20211125'),
	('030','0015','009','1333','30','20211124'),
	('031','0016','007','1333','30','20211120'),
	('032','0016','001','1111','5','20211120'),
	('033','0016','005','1222','8','20211126'),
	('034','0016','007','2333','10','20211124'),
	('035','0016','009','1777','10','20211124'),
	('036','0016','005','2222','5','20211126')
	
	INSERT INTO Client
  VALUES ('0001','Діна','Старчук','20000723','380504492712'),
  ('0002','Остап','Гузій','19940109','380993746519'),
  ('0003','Марія','Левчук','19710627','380667872474'),
  ('0004','Павло','Богайчук ','19861030','380983376139'),
  ('0005','Юлія','Петрик','19990921','380674308167'),
  ('0006','Максим','Вінтонюк','19970416','380667620832'),
  ('0007','Сергій','Гаврилишин','19621219','380933774592'),
  ('0008','Катерина','Дідух','19590311','380973568123'),
  ('0009','Олег','Яник','19880503','380504781204'),
  ('0010','Яна','Кріль','20011105','380673895527'),
  ('0011','Наталія','Рибка','19790614','380992730176'),
  ('0012','Орися ','Лаврів','19560507','380982995417'),
  ('0013','Влад','Чорноус','20000216','380662977423'),
  ('0014','Рома','Тауцька','19630519','380936671149'),
  ('0015','Йосип','Качмар','19551023','380987104826'),
  ('0016','Марк','Рудик','20020827','380675400275'),
  ('0017','Віталій','Стацюк','19980411','380991665945'),
  ('0018','Світлана','Пилип ','19840123','380937672963'),
  ('0019','Надія','Кушнірук','19760119','380507385612'),
  ('0020','Любов','Павлюк','19520201','380676510845')

  INSERT INTO Position
  VALUES ('Молодший фармацевт','10000','Продаж і викладка ліків'),
  ('Фармацевт','14000',' '),
  ('Провізор','14000','Займається перевіркою ліків і приймає рішення про їх допуск чи не допуск до продажу.')

  INSERT INTO Employee
  VALUES ('10001','Аліна','Шостак','19950826','380679872542','Молодший фармацевт','0011'),
  ('10002','Галина','Іваськів','19911206','380638771043','Молодший фармацевт','0011'),
  ('10003','Марта','Лучко','19850316','380994671794','Фармацевт','0011'),
  ('10004','Андрій','Мельник','19820922','380503786833','Провізор','0011'),
  ('10005','Василь','Смушак','19920714','380663425864','Молодший фармацевт','0012'),
  ('10006','Анастасія','Вітовська','19890516','380974661284','Молодший фармацевт','0012'),
  ('10007','Євген','Омелько','19871229','380985371538','Фармацевт','0012'),
  ('10008','Денис','Голубчак','19750330','380634170538','Провізор','0012'),
  ('10009','Любов','Демчук','19940202','380995498266','Молодший фармацевт','0013'),
  ('10010','Вікторія','Ярош','19900319','380673254891','Молодший фармацевт','0013'),
  ('10011','Василина','Андріїшин','19881108','380663758027','Фармацевт','0013'),
  ('10012','Любомир','Сташків','19720922','380994762875','Провізор','0013'),
  ('10013','Назар','Левицький','19951015','380985384754','Молодший фармацевт','0014'),
  ('10014','Олег','Федун','19910331','380985228585','Молодший фармацевт','0014'),
  ('10015','Ілля','Денис','19850603','380509827401','Фармацевт','0014'),
  ('10016','Стас','Кравець','19770120','380984575746','Провізор','0014'),
  ('10017','Яна','Олійник','19941128','380664870474','Молодший фармацевт','0015'),
  ('10018','Олена','Жорбан','19900909','380988649871','Молодший фармацевт','0015'),
  ('10019','Тетяна','Либа','19871023','380995419006','Фармацевт','0015'),
  ('10020','Сергій','Боднар','19800815','380985439965','Провізор','0015'),
  ('10021','Оксана','Коваль','19950417','380934776510','Молодший фармацевт','0016'),
  ('10022','Юлія','Кочнєва','19920529','380982664307','Молодший фармацевт','0016'),
  ('10023','Олексій','Погуляйло','19820726','380982664305','Фармацевт','0016'),
  ('10024','Надія','Стус','19680713','380664275860','Провізор','0016')

  INSERT INTO Discount
  VALUES ('666','При купівлі 3-х одиниць товару (на кожну позицію цього товару)','10'),
  ('667','Акції листопада (на весь асортимент)','5'),
  ('668','Пенсыйна знижки','15'),
  ('669','Немаэ знижки','0')
  
  INSERT INTO Sales
  VALUES ('0011','103','1111','2','668','42,5','239,5','20211125','10001','0007'),
  ('0011','110','1222','1','667','0,5','9,5','20211122','10003','0002'),
  ('0011','208','1999','2','667','4,1','77,9','20211202','10001','0010'),
  ('0011','305','1222','1','669','0','10','20211201','10001','0001'),
  ('0011','403','2444','5','666','105,6','949,9','20211205','10001','0011'),
  ('0011','408','1111','2','668','42,3','239,5','20211207','10001','0015'),
  ('0011','603','1999','1','667','2,1','39','20211128','10001','0003'),
  ('0011','604','1222','4','666','4','36','20211201','10002','0016'),
  ('0011','107','1999','2','669','0','82,1','20211206','10002','0018'),
  ('0011','203','1666','2','669','0','90,2','20211201','10001','0009'),
  ('0012','102','1888','1','667','1,5','29,5','20211120','10002','0001'),
  ('0012','104','1444','3','666','73,7','663,4','20211202','10001','0010'),
  ('0012','106','1555','2','667','48,2','432,6','20211130','10002','0003'),
  ('0012','209','1444','1','667','12,2','233,4','20211121','10002','0006'),
  ('0012','401','1444','1','669','0','245,7','20211207','10001','0001'),
  ('0012','402','2111','4','666','34,8','313,5','20211204','10001','0019'),
  ('0012','506','1666','2','668','13,5','76,7','20211120','10001','0020'),
  ('0012','602','2111','7','666','61','548,7','20211206','10002','0011'),
  ('0012','609','1444','3','666','73,7','663,4','20211122','10003','0001'),
  ('0012','505','2111','1','668','13,1','74','20211204','10001','0012'),
  ('0013','109','2222','3','666','156','884','20211127','10001','0009'),
  ('0013','206','1777','2','669','0','141','20211204','10001','0004'),
  ('0013','303','2111','5','666','43,5','391,9','20211128','10001','0005'),
  ('0013','304','1666','1','669','0','45,1','20211205','10002','0016'),
  ('0013','306','1777','3','668','31,7','179,7','20211123','10001','0007'),
  ('0013','307','2222','1','668','156','884','20211130','10002','0014'),
  ('0013','308','1999','1','667','2,1','39','20211129','10002','0009'),
  ('0013','405','1999','2','667','3,2','77,9','20211123','10002','0002'),
  ('0013','503','1999','3','666','12,3','110,8','20211206','10002','0006'),
  ('0013','610','2222','1','667','52','988','20211125','10001','0005'),
  ('0014','105','2333','1','668','1,9','10,7','20211120','10001','0008'),
  ('0014','204','1555','3','666','36,1','686,5','20211128','10001','0001'),
  ('0014','207','1555','1','668','36,1','204,7','20211202','10003','0008'),
  ('0014','310','2333','8','666','10,1','90,7','20211206','10003','0010'),
  ('0014','404','1777','2','669','0','141','20211201','10002','0004'),
  ('0014','406','1555','1','668','36,1','204,7','20211130','10001','0014'),
  ('0014','407','2222','2','667','104','1976','20211123','10003','0005'),
  ('0014','502','1444','2','667','49,1','442,2','20211125','10002','0018'),
  ('0014','504','1222','1','667','0,5','9,5','20211121','10001','0002'),
  ('0014','508','1444','1','669','0','245,7','20211204','10001','0019'),
  ('0015','108','2444','1','668','31,6','179,4','20211127','10001','0020'),
  ('0015','202','1888','6','666','18,7','167,4','20211121','10002','0019'),
  ('0015','301','2444','1','669','0','211,1','20211203','10001','0002'),
  ('0015','302','1888','2','668','10','52,7','20211202','10003','0020'),
  ('0015','409','1888','3','666','9,3','83,7','20211129','10002','0004'),
  ('0015','507','1333','1','668','1,3','7,2','20211205','10001','0008'),
  ('0015','509','2444','4','668','126,6','717,7','20211120','10003','0007'),
  ('0015','601','1888','1','668','4,6','26,4','20211124','10002','0008'),
  ('0015','607','1666','1','669','0','45,1','20211207','10001','0009'),
  ('0015','608','2444','2','668','63,3','358,9','20211130','10003','0020'),
  ('0016','410','1333','3','666','2,6','22,9','20211204','10002','0010'),
  ('0016','101','1333','2','667','1','19','20211125','10001','0006'),
  ('0016','201','2111','1','669','0','87,1','20211201','10001','0013'),
  ('0016','205','1111','1','668','21,1','119,7','20211204','10001','0015'),
  ('0016','210','1333','4','666','3,4','30,6','20211122','10001','0011'),
  ('0016','309','1111','1','667','7','133,9','20211128','10001','0013'),
  ('0016','501','2333','5','666','6,3','56,7','20211206','10001','0003'),
  ('0016','510','1777','10','666','70,5','634,5','20211202','10003','0001'),
  ('0016','605','2333','1','667','0,6','12','20211121','10001','0004'),
  ('0016','606','1111','1','668','21,1','119,8','20211206','10001','0015')
	
	
	
	SELECT *
	FROM Producer
	SELECT *
	FROM Preparation
	SELECT *
	FROM Providers
	SELECT *
	FROM Pharmacyy
	SELECT *
	FROM Composition
	SELECT *
	FROM Delivery
	SELECT *
	FROM Client
	SELECT *
	FROM Position
	SELECT *
	FROM Employee
	SELECT *
	FROM Discount
	SELECT *
	FROM Sales
